<!DOCTYPE html>
{% extends 'main.html' %}
{% block body_block%}


<div class="jumbotron">


        {% for mm in both_lists %}
            <div class="row justify-content-between">

                <div class="col-6">
                    {% if request.user == mm.author%}

                    <div class="card text-white bg-secondary mb-3" style="max-width: 18rem;">
                      <div class="card-body">
                          <h5 class="card-title">@{{ request.user }}</h5>
                          <p class='text-white'><a href="{% url 'accounts:detail' pk=mm.author.profiles.pk %}"></a><br><strong>{{ mm.text }}|{{ mm.recipient }}</strong></p>

                      </div>
                    </div>
                    {% endif %}

                </div>


                {% if is_this_admin == False %}

                    <div class="col-6">
                        {% if mm.author.profiles.pk == 4%}
                            <div class="card text-white bg-success mb-3" style="max-width: 18rem;">
                              <div class="card-body">
                                  <h5 class="card-title"><strong style="color: black">Administraci√≥n</strong></h5>
                                  <p class='text-white'><a href="{% url 'accounts:detail' pk=mm.author.profiles.pk %}"></a><br><strong>{{ mm.text }}</strong></p>

                              </div>
                            </div>
                        {% endif %}
                    </div>


                {% else %}

                    <div class="col-6">
                        {% if user_list.user == mm.author %}
                            <div class="card text-white bg-success mb-3" style="max-width: 18rem;">
                              <div class="card-body">
                                  <h5 class="card-title"><strong style="color: black">@{{ mm.author }}</strong></h5>
                                  <p class='text-white'><a href="{% url 'accounts:detail' pk=mm.author.profiles.pk %}"></a><br><strong>{{ mm.text }}</strong></p>

                              </div>
                            </div>
                        {% endif %}
                    </div>

                {% endif %}


            </div>

        {% endfor %}




        {% if is_this_admin == True %}
        <br>
        <br>
        <div class="d-flex justify-content-center">

        <a href="{% url 'catmessage:add_message' pk=user_list.pk %}" class="btn btn-primary">I Am Admin</a>
        </div>

        {% else %}
            <div class="container">
                <div class="jumbotron">
                    <div align="center">
                        <a href="{% url 'catmessage:add_message' pk=4 %}" class="btn btn-primary">Mandar Mensaje</a>
                    </div>
                </div>
            </div>

        {% endif %}
</div>



<script>
    // Get the modal
    var modal = document.getElementById('myModal');

    // Get the image and insert it inside the modal - use its "alt" text as a caption
    let img = document.getElementsByClassName('myImg');
    var modalImg = document.getElementById("img01");
    var captionText = document.getElementById("caption");

    for (let i = 0; i < img.length; i++) {

        img[i].onclick = function(){
            console.log('image');
            modal.style.display = "block";
            modalImg.src = this.src;
            captionText.innerHTML = this.alt;
    };
}
    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
        modal.style.display = "none";
    }
</script>

{% endblock %}

